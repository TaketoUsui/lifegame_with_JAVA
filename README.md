# lifegame
ライフゲームは、四角形などのセルに分割された盤面の上でセルが生まれたり死んだりする様子を観察する一人ゲームです。

生きているセルは黒く、死んでいるセルは白く表現され、すべてのセルは周囲の状況によって、以下の法則に従って生まれたり死んだりします。

### ターン移行の法則
 - 生きているセルは、隣り合う8方のセルのうち生きているセルが2つまたは3つなら、次のターンでも生きたまま。
 - 死んでいるセルは、隣り合う8方のセルのうち生きているセルが3つなら、次のターンで生きた状態に変わる。

周りに生きているセルが多すぎれば過密で死亡し、少なすぎれば過疎で死亡します。

# このゲームが持っている機能
このプログラムを実行すると、まずウィンドウが表示され、その上でライフゲームの状況を視覚的に確認したり、操作したりすることができます。

実装した機能は、以下の4種類です。

## クリックでセルの生死を変更する機能
ウィンドウ上の任意のセルを直接クリックまたはドラッグすると、選択されたセルの生死の状態が反転します。
つまり、死んだセルを生きたセルに、生きたセルを死んだセルに変えることが出来ます。

この機能は、以下のような流れで実現しています。
1. クリックされると、「BoardView.java」で実装された「MouseListener」インターフェースや「MouseMotionListener」インターフェースの該当関数が呼び出される。
2. マウスイベントを検知すると、マウスの座標から対応するセルを計算する。
3. 対応するセルが判明したら、「BoardModel.java」にあるセルの生死反転用関数を呼び出す。

## 次のターンに移行するボタン
「next」ボタンが押されると、上述の「ターン移行の法則」に従って、ウィンドウ上の盤面が次のターンに移行します。

この機能は、「BoardModel.java」の「next()」関数によって実現しています。なおこの関数は、ボタンに付与された「ActionListener」の一種によって呼び出されます。

## 直前の動作を巻き戻すボタン
操作をキャンセルするための機能です。

「undo」ボタンが押されると、アクションリスナーによって、「BoardModel.java」の「undo()」関数が呼び出され、直前の操作を巻き戻すことができます。

なお、直前の操作とは、「nextボタンの押下」と「クリックによる生死の変更」のことで、連続、最大３２回まで巻き戻すことが出来ます。

## 新しいゲームを別ウィンドウで開始するボタン
「new game」ボタンが押されると、改めて「Main.java」の「run()」関数が呼び出され、ウィンドウそのものや「BoardModel」が新たにインスタンス化されます。

これによって、新しいウィンドウが開き、現在のウィンドウとは独立に動作する、新しいゲームを始めることが出来ます。
